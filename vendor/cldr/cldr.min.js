!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof module&&"object"==typeof module.exports?module.exports=t():e.Cldr=t()}(this,function(){var e=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},t=function(t,n){if(e(t)&&(t=t.join("/")),"string"!=typeof t)throw new Error('invalid path "'+t+'"');return t=t.replace(/^\//,"").replace(/^cldr\//,""),(t=t.replace(/{[a-zA-Z]+}/g,function(e){return e=e.replace(/^{([^}]*)}$/,"$1"),n[e]})).split("/")},n=function(e,t){var n,r;if(e.some)return e.some(t);for(n=0,r=e.length;n<r;n++)if(t(e[n],n,e))return!0;return!1},r=function(e,t,r,o){var a,i=r[0],u=r[1],l=e.localeSep,c=r[2],f=r.slice(3,4);return o=o||{},"und"!==i&&"Zzzz"!==u&&"ZZ"!==c?[i,u,c].concat(f):void 0!==t.get("supplemental/likelySubtags")?n([[i,u,c],[i,c],[i,u],[i],["und",u]],function(e){return a=!/\b(Zzzz|ZZ)\b/.test(e.join(l))&&t.get(["supplemental/likelySubtags",e.join(l)])})?(a=a.split(l),["und"!==i?i:a[0],"Zzzz"!==u?u:a[1],"ZZ"!==c?c:a[2]].concat(f)):o.force?t.get("supplemental/likelySubtags/und").split(l):void 0:void 0},o=function(e,t,o){var a,i=o[0],u=o[1],l=o[2],c=o[3];return n([[[i,"Zzzz","ZZ"],[i]],[[i,"Zzzz",l],[i,l]],[[i,u,"ZZ"],[i,u]]],function(n){var i=r(e,t,n[0]);return a=n[1],i&&i[0]===o[0]&&i[1]===o[1]&&i[2]===o[2]})?(c&&a.push(c),a):o},a=function(e){var t,n,r=[];return e=e.replace(/_/,"-"),(t=e.split("-u-"))[1]&&(t[1]=t[1].split("-t-"),e=t[0]+(t[1][1]?"-t-"+t[1][1]:""),r[4]=t[1][0]),n=e.split("-t-")[0],null===(t=n.match(/^(([a-z]{2,3})(-([A-Z][a-z]{3}))?(-([A-Z]{2}|[0-9]{3}))?)((-([a-zA-Z0-9]{5,8}|[0-9][a-zA-Z0-9]{3}))*)$|^(root)$/))?["und","Zzzz","ZZ"]:(r[0]=t[10]||t[2]||"und",r[1]=t[4]||"Zzzz",r[2]=t[6]||"ZZ",t[7]&&t[7].length&&(r[3]=t[7].slice(1)),r)},i=function(e,t){var n,r;if(e.forEach)return e.forEach(t);for(n=0,r=e.length;n<r;n++)t(e[n],n,e)},u=function(e,t,n){var u=e._availableBundleMap,l=e._availableBundleMapQueue;return l.length&&(i(l,function(n){var i,c,f,p;p=a(n),c=r(e,t,p),f=(f=o(e,t,c)).join(e.localeSep),(i=l[f])&&i.length<n.length||(u[f]=n)}),e._availableBundleMapQueue=[]),u[n]||null},l=function(e){var t,n=[];if(Object.keys)return Object.keys(e);for(t in e)n.push(t);return n},c=function(e,t){var n,r;return r=e+(t&&JSON?": "+JSON.stringify(t):""),n=new Error(r),n.code=e,i(l(t),function(e){n[e]=t[e]}),n},f=function(e,t,n){if(!t)throw c(e,n)},p=function(e,t){f("E_MISSING_PARAMETER",void 0!==e,{name:t})},s=function(e,t,n,r){f("E_INVALID_PAR_TYPE",n,{expected:r,name:t,value:e})},d=function(t,n){s(t,n,"string"==typeof t||e(t),"String or Array")},v=function(e){return null!==e&&""+e=="[object Object]"},h=function(e,t){s(e,t,void 0===e||v(e),"Plain Object")},g=function(e,t){s(e,t,"string"==typeof e,"a string")},z=function(e,t){var n,r=e,o=t.length;for(n=0;n<o-1;n++)if(!(r=r[t[n]]))return;return r[t[n]]},_=function(e,t){var n,r=e._availableBundleMapQueue,o=z(t,["main"]);if(o)for(n in o)o.hasOwnProperty(n)&&"root"!==n&&-1===r.indexOf(n)&&r.push(n)},b=function(t){return e(t)?t:[t]},y=function(){var t=function(){var n={},r=[].slice.call(arguments,0);return i(r,function(r){var o;for(o in r)o in n&&"object"==typeof n[o]&&!e(n[o])?n[o]=t(n[o],r[o]):n[o]=r[o]}),n};return t}(),Z=function(e,t,n){var r,o,a;for(p(n[0],"json"),r=0;r<n.length;r++)for(a=b(n[r]),o=0;o<a.length;o++)h(a[o],"json"),t=y(t,a[o]),_(e,a[o]);return t},j=function(e,n,r){var o=t(n,r);return z(e._resolved,o)},m=function(e){this.init(e)};return m._alwaysArray=b,m._coreLoad=Z,m._createError=c,m._itemGetResolved=j,m._jsonMerge=y,m._pathNormalize=t,m._resourceGet=z,m._validatePresence=p,m._validateType=s,m._validateTypePath=d,m._validateTypePlainObject=h,m._availableBundleMap={},m._availableBundleMapQueue=[],m._resolved={},m.localeSep="-",m.load=function(){m._resolved=Z(m,m._resolved,arguments)},m.prototype.init=function(e){var t,n,i,l,c,f,s,d,v,h=m.localeSep,z="";p(e,"locale"),g(e,"locale"),5===(f=a(e)).length&&(z=h+"u"+h+(d=f.pop()),f[3]||f.pop()),v=f[3],n=(i=r(m,this,f,{force:!0})||f)[0],c=i[1],s=i[2],l=o(m,this,i).join(h),this.attributes=t={bundle:u(m,this,l),minLanguageId:l+z,maxLanguageId:i.join(h)+z,language:n,script:c,territory:s,region:s,variant:v},d&&("-"+d).replace(/-[a-z]{3,8}|(-[a-z]{2})-([a-z]{3,8})/g,function(e,n,r){n?t["u"+n]=r:t["u"+e]=!0}),this.locale=e},m.prototype.get=function(e){return p(e,"path"),d(e,"path"),j(m,e,this.attributes)},m.prototype.main=function(e){return p(e,"path"),d(e,"path"),f("E_MISSING_BUNDLE",null!==this.attributes.bundle,{locale:this.locale}),e=b(e),this.get(["main/{bundle}"].concat(e))},m});