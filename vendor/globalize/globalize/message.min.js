!function(t,e){"function"==typeof define&&define.amd?define(["cldr","../globalize","cldr/event"],e):"object"==typeof exports?module.exports=e(require("cldrjs"),require("../globalize")):e(t.Cldr,t.Globalize)}(this,function(t,e){var r,n=e._alwaysArray,o=e._createError,i=e._isPlainObject,a=e._runtimeBind,u=e._validateDefaultLocale,s=e._validate,l=e._validateParameterPresence,c=e._validateParameterType,p=e._validateParameterTypePlainObject;r=function(){function t(t,e){if(/^[A-Z_$][0-9A-Z_$]*$/i.test(t))return e?e+"."+t:t;var r=JSON.stringify(t);return e?e+"["+r+"]":r}function e(t,e,r){if(this.lc=[t],this.runtime.pluralFuncs={},this.runtime.pluralFuncs[this.lc[0]]=e,this.runtime.fmt={},r)for(var n in r)this.runtime.fmt[n]=r[n]}return e._parse=function(){function t(t,e,r,n,o,i){this.message=t,this.expected=e,this.found=r,this.offset=n,this.line=o,this.column=i,this.name="SyntaxError"}return function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(t,Error),{SyntaxError:t,parse:function(e){function r(t){return Tt!==t&&(Tt>t&&(Tt=0,Vt={line:1,column:1,seenCR:!1}),function(t,r,n){var o,i;for(o=r;o<n;o++)"\n"===(i=e.charAt(o))?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):"\r"===i||"\u2028"===i||"\u2029"===i?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}(Vt,Tt,t),Tt=t),Vt}function n(t){Ut<Ht||(Ut>Ht&&(Ht=Ut,Kt=[]),Kt.push(t))}function o(n,o,i){var a=r(i),u=i<e.length?e.charAt(i):null;return null!==o&&function(t){var e=1;for(t.sort(function(t,e){return t.description<e.description?-1:t.description>e.description?1:0});e<t.length;)t[e-1]===t[e]?t.splice(e,1):e++}(o),new t(null!==n?n:function(t,e){var r,n,o,i=new Array(t.length);for(o=0;o<t.length;o++)i[o]=t[o].description;return r=t.length>1?i.slice(0,-1).join(", ")+" or "+i[t.length-1]:i[0],n=e?'"'+function(t){function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(t){return"\\x0"+e(t)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(t){return"\\x"+e(t)}).replace(/[\u0180-\u0FFF]/g,function(t){return"\\u0"+e(t)}).replace(/[\u1080-\uFFFF]/g,function(t){return"\\u"+e(t)})}(e)+'"':"end of input","Expected "+r+" but "+n+" found."}(o,u),o,u,i,a.line,a.column)}function i(){return a()}function a(){var t,e,r;for(t=Ut,e=[],(r=u())===C&&(r=y())===C&&(r=v());r!==C;)e.push(r),(r=u())===C&&(r=y())===C&&(r=v());return e!==C&&(qt=t,e=k(e)),t=e}function u(){var t,r,o,i,a,u;return t=Ut,123===e.charCodeAt(Ut)?(r=O,Ut++):(r=C,0===Qt&&n(N)),r!==C&&w()!==C&&(o=g())!==C?(i=Ut,44===e.charCodeAt(Ut)?(a=M,Ut++):(a=C,0===Qt&&n(R)),a!==C&&(u=s())!==C?i=a=[a,u]:(Ut=i,i=I),i===C&&(i=G),i!==C&&(a=w())!==C?(125===e.charCodeAt(Ut)?(u=z,Ut++):(u=C,0===Qt&&n($)),u!==C?(qt=t,t=r=J(o,i)):(Ut=t,t=I)):(Ut=t,t=I)):(Ut=t,t=I),t}function s(){var t,r,o,i,a,u;if(t=Ut,r=w(),r!==C?(e.substr(Ut,6)===L?(o=L,Ut+=6):(o=C,0===Qt&&n(Z)),o!==C&&(i=w())!==C?(44===e.charCodeAt(Ut)?(a=M,Ut++):(a=C,0===Qt&&n(R)),a!==C&&w()!==C&&(u=l())!==C&&w()!==C?(qt=t,t=r=B(o,u)):(Ut=t,t=I)):(Ut=t,t=I)):(Ut=t,t=I),t===C&&(t=Ut,r=w(),r!==C?(e.substr(Ut,13)===D?(o=D,Ut+=13):(o=C,0===Qt&&n(U)),o!==C&&(i=w())!==C?(44===e.charCodeAt(Ut)?(a=M,Ut++):(a=C,0===Qt&&n(R)),a!==C&&w()!==C&&(u=l())!==C&&w()!==C?(qt=t,t=r=B(o,u)):(Ut=t,t=I)):(Ut=t,t=I)):(Ut=t,t=I),t===C&&(t=Ut,r=w(),r!==C?(e.substr(Ut,6)===q?(o=q,Ut+=6):(o=C,0===Qt&&n(T)),o!==C&&(i=w())!==C?(44===e.charCodeAt(Ut)?(a=M,Ut++):(a=C,0===Qt&&n(R)),a!==C&&w()!==C&&(u=h())!==C&&w()!==C?(qt=t,t=r=B(o,u)):(Ut=t,t=I)):(Ut=t,t=I)):(Ut=t,t=I),t===C)))if(t=Ut,(r=w())!==C)if((o=g())!==C){for(i=[],a=d();a!==C;)i.push(a),a=d();i!==C?(qt=t,t=r=V(o,i)):(Ut=t,t=I)}else Ut=t,t=I;else Ut=t,t=I;return t}function l(){var t,e,r,n;if(t=Ut,(e=c())===C&&(e=G),e!==C){if(r=[],(n=p())!==C)for(;n!==C;)r.push(n),n=p();else r=I;r!==C?(qt=t,t=e=H(e,r)):(Ut=t,t=I)}else Ut=t,t=I;return t}function c(){var t,r,o,i,a;return t=Ut,r=w(),r!==C?(e.substr(Ut,6)===K?(o=K,Ut+=6):(o=C,0===Qt&&n(Q)),o!==C&&w()!==C?(58===e.charCodeAt(Ut)?(i=W,Ut++):(i=C,0===Qt&&n(X)),i!==C&&w()!==C&&(a=_())!==C&&w()!==C?(qt=t,t=r=Y(a)):(Ut=t,t=I)):(Ut=t,t=I)):(Ut=t,t=I),t}function p(){var t,r,o,i,u,s;return t=Ut,r=w(),r!==C&&(o=f())!==C&&w()!==C?(123===e.charCodeAt(Ut)?(i=O,Ut++):(i=C,0===Qt&&n(N)),i!==C&&w()!==C&&(u=a())!==C&&w()!==C?(125===e.charCodeAt(Ut)?(s=z,Ut++):(s=C,0===Qt&&n($)),s!==C?(qt=t,t=r=tt(o,u)):(Ut=t,t=I)):(Ut=t,t=I)):(Ut=t,t=I),t}function f(){var t,r,o;return t=Ut,(r=g())!==C&&(qt=t,r=et(r)),(t=r)===C&&(t=Ut,61===e.charCodeAt(Ut)?(r=rt,Ut++):(r=C,0===Qt&&n(nt)),r!==C&&(o=_())!==C?(qt=t,t=r=Y(o)):(Ut=t,t=I)),t}function h(){var t,e,r;if(t=Ut,e=[],(r=m())!==C)for(;r!==C;)e.push(r),r=m();else e=I;return e!==C&&(qt=t,e=ot(e)),t=e}function m(){var t,r,o,i,u,s;return t=Ut,r=w(),r!==C&&(o=g())!==C&&w()!==C?(123===e.charCodeAt(Ut)?(i=O,Ut++):(i=C,0===Qt&&n(N)),i!==C&&w()!==C&&(u=a())!==C&&w()!==C?(125===e.charCodeAt(Ut)?(s=z,Ut++):(s=C,0===Qt&&n($)),s!==C?(qt=t,t=r=tt(o,u)):(Ut=t,t=I)):(Ut=t,t=I)):(Ut=t,t=I),t}function d(){var t,r,o,i;return t=Ut,r=w(),r!==C?(44===e.charCodeAt(Ut)?(o=M,Ut++):(o=C,0===Qt&&n(R)),o!==C&&w()!==C&&(i=g())!==C&&w()!==C?(qt=t,t=r=it(i)):(Ut=t,t=I)):(Ut=t,t=I),t}function v(){var t,r;return t=Ut,35===e.charCodeAt(Ut)?(r=at,Ut++):(r=C,0===Qt&&n(ut)),r!==C&&(qt=t,r=st()),t=r}function y(){var t,e,r;if(t=Ut,e=[],(r=A())===C&&(r=x()),r!==C)for(;r!==C;)e.push(r),(r=A())===C&&(r=x());else e=I;return e!==C&&(qt=t,e=lt(e)),t=e}function g(){var t,r,o,i,a,u;if(Qt++,t=Ut,w()!==C){if(r=Ut,o=Ut,pt.test(e.charAt(Ut))?(i=e.charAt(Ut),Ut++):(i=C,0===Qt&&n(ft)),i!==C){for(a=[],ht.test(e.charAt(Ut))?(u=e.charAt(Ut),Ut++):(u=C,0===Qt&&n(mt));u!==C;)a.push(u),ht.test(e.charAt(Ut))?(u=e.charAt(Ut),Ut++):(u=C,0===Qt&&n(mt));a!==C?o=i=[i,a]:(Ut=o,o=I)}else Ut=o,o=I;o!==C&&(o=e.substring(r,Ut)),(r=o)!==C&&(o=w())!==C?(qt=t,t=dt(r)):(Ut=t,t=I)}else Ut=t,t=I;return Qt--,t===C&&0===Qt&&n(ct),t}function A(){var t,e,r;if(t=Ut,e=[],(r=F())!==C)for(;r!==C;)e.push(r),r=F();else e=I;return e!==C&&(qt=t,e=vt(e)),t=e}function F(){var t,r,o,i,a,u;return t=Ut,yt.test(e.charAt(Ut))?(r=e.charAt(Ut),Ut++):(r=C,0===Qt&&n(gt)),r!==C&&(qt=t,r=At(r)),(t=r)===C&&(t=Ut,e.substr(Ut,2)===Ft?(r=Ft,Ut+=2):(r=C,0===Qt&&n(_t)),r!==C&&(qt=t,r=bt()),(t=r)===C&&(t=Ut,e.substr(Ut,2)===wt?(r=wt,Ut+=2):(r=C,0===Qt&&n(xt)),r!==C&&(qt=t,r=St()),(t=r)===C&&(t=Ut,e.substr(Ut,2)===jt?(r=jt,Ut+=2):(r=C,0===Qt&&n(Ct)),r!==C&&(qt=t,r=Et()),(t=r)===C&&(t=Ut,e.substr(Ut,2)===Pt?(r=Pt,Ut+=2):(r=C,0===Qt&&n(kt)),r!==C&&(qt=t,r=It()),(t=r)===C&&(t=Ut,e.substr(Ut,2)===Ot?(r=Ot,Ut+=2):(r=C,0===Qt&&n(Nt)),r!==C&&(o=b())!==C&&(i=b())!==C&&(a=b())!==C&&(u=b())!==C?(qt=t,t=r=Gt(o,i,a,u)):(Ut=t,t=I)))))),t}function _(){var t,r,o;if(t=Ut,r=[],Mt.test(e.charAt(Ut))?(o=e.charAt(Ut),Ut++):(o=C,0===Qt&&n(Rt)),o!==C)for(;o!==C;)r.push(o),Mt.test(e.charAt(Ut))?(o=e.charAt(Ut),Ut++):(o=C,0===Qt&&n(Rt));else r=I;return r!==C&&(qt=t,r=zt(r)),t=r}function b(){var t;return $t.test(e.charAt(Ut))?(t=e.charAt(Ut),Ut++):(t=C,0===Qt&&n(Jt)),t}function w(){var t,e,r;for(Qt++,t=Ut,e=[],r=x();r!==C;)e.push(r),r=x();return e!==C&&(qt=t,e=Zt(e)),t=e,Qt--,t===C&&(e=C,0===Qt&&n(Lt)),t}function x(){var t;return Bt.test(e.charAt(Ut))?(t=e.charAt(Ut),Ut++):(t=C,0===Qt&&n(Dt)),t}var S,j=arguments.length>1?arguments[1]:{},C={},E={start:i},P=i,k=function(t){return{type:"messageFormatPattern",statements:t}},I=C,O="{",N={type:"literal",value:"{",description:'"{"'},G=null,M=",",R={type:"literal",value:",",description:'","'},z="}",$={type:"literal",value:"}",description:'"}"'},J=function(t,e){var r={type:"messageFormatElement",argumentIndex:t};return e&&e.length?r.elementFormat=e[1]:r.output=!0,r},L="plural",Z={type:"literal",value:"plural",description:'"plural"'},B=function(t,e){return{type:"elementFormat",key:t,val:e}},D="selectordinal",U={type:"literal",value:"selectordinal",description:'"selectordinal"'},q="select",T={type:"literal",value:"select",description:'"select"'},V=function(t,e){return{type:"elementFormat",key:t,val:e}},H=function(t,e){return{type:"pluralFormatPattern",pluralForms:e,offset:t||0}},K="offset",Q={type:"literal",value:"offset",description:'"offset"'},W=":",X={type:"literal",value:":",description:'":"'},Y=function(t){return t},tt=function(t,e){return{key:t,val:e}},et=function(t){return t},rt="=",nt={type:"literal",value:"=",description:'"="'},ot=function(t){return{type:"selectFormatPattern",pluralForms:t}},it=function(t){return t},at="#",ut={type:"literal",value:"#",description:'"#"'},st=function(){return{type:"octothorpe"}},lt=function(t){return{type:"string",val:t.join("")}},ct={type:"other",description:"identifier"},pt=/^[0-9a-zA-Z$_]/,ft={type:"class",value:"[0-9a-zA-Z$_]",description:"[0-9a-zA-Z$_]"},ht=/^[^ \t\n\r,.+={}]/,mt={type:"class",value:"[^ \\t\\n\\r,.+={}]",description:"[^ \\t\\n\\r,.+={}]"},dt=function(t){return t},vt=function(t){return t.join("")},yt=/^[^{}#\\\0-\x1F \t\n\r]/,gt={type:"class",value:"[^{}#\\\\\\0-\\x1F \\t\\n\\r]",description:"[^{}#\\\\\\0-\\x1F \\t\\n\\r]"},At=function(t){return t},Ft="\\\\",_t={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},bt=function(){return"\\"},wt="\\#",xt={type:"literal",value:"\\#",description:'"\\\\#"'},St=function(){return"#"},jt="\\{",Ct={type:"literal",value:"\\{",description:'"\\\\{"'},Et=function(){return"{"},Pt="\\}",kt={type:"literal",value:"\\}",description:'"\\\\}"'},It=function(){return"}"},Ot="\\u",Nt={type:"literal",value:"\\u",description:'"\\\\u"'},Gt=function(t,e,r,n){return String.fromCharCode(parseInt("0x"+t+e+r+n))},Mt=/^[0-9]/,Rt={type:"class",value:"[0-9]",description:"[0-9]"},zt=function(t){return parseInt(t.join(""),10)},$t=/^[0-9a-fA-F]/,Jt={type:"class",value:"[0-9a-fA-F]",description:"[0-9a-fA-F]"},Lt={type:"other",description:"whitespace"},Zt=function(t){return t.join("")},Bt=/^[ \t\n\r]/,Dt={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},Ut=0,qt=0,Tt=0,Vt={line:1,column:1,seenCR:!1},Ht=0,Kt=[],Qt=0;if("startRule"in j){if(!(j.startRule in E))throw new Error("Can't start parsing from rule \""+j.startRule+'".');P=E[j.startRule]}if((S=P())!==C&&Ut===e.length)return S;throw S!==C&&Ut<e.length&&n({type:"end",description:"end of input"}),o(null,Kt,Ht)}}}().parse,e.plurals={},e.formatters={},e.prototype.runtime={number:function(t,e){if(isNaN(t))throw new Error("'"+t+"' isn't a number.");return t-(e||0)},plural:function(t,e,r,n,o){if({}.hasOwnProperty.call(n,t))return n[t]();e&&(t-=e);var i=r(t,o);return i in n?n[i]():n.other()},select:function(t,e){return{}.hasOwnProperty.call(e,t)?e[t]():e.other()},pluralFuncs:{},fmt:{},toString:function(){var e=function(r,n){if("object"!=typeof r){var o=r.toString().replace(/^(function )\w*/,"$1");return(u=/([ \t]*)\S.*$/.exec(o))?o.replace(new RegExp("^"+u[1],"mg"),""):o}var i=[];for(var a in r)"toString"!=a&&(0==n?i.push("var "+a+" = "+e(r[a],n+1)+";\n"):i.push(t(a)+": "+e(r[a],n+1)));if(0==n)return i.join("");if(0==i.length)return"{}";for(var u="  ";--n;)u+="  ";return"{\n"+i.join(",\n").replace(/^/gm,u)+"\n}"};return e(this,0)}},e.prototype._precompile=function(r,n){n=n||{keys:{},offset:{}};var o,i,a=[],u=[];switch(r.type){case"messageFormatPattern":for(o=0;o<r.statements.length;++o)a.push(this._precompile(r.statements[o],n));return i=a.join(" + ")||'""',n.pf_count?i:"function(d) { return "+i+"; }";case"messageFormatElement":return n.pf_count=n.pf_count||0,r.output?t(r.argumentIndex,"d"):(n.keys[n.pf_count]=r.argumentIndex,this._precompile(r.elementFormat,n));case"elementFormat":switch(u=[t(n.keys[n.pf_count],"d")],r.key){case"select":return u.push(this._precompile(r.val,n)),"select("+u.join(", ")+")";case"selectordinal":return"plural("+(u=u.concat([0,t(this.lc[0],"pluralFuncs"),this._precompile(r.val,n),1])).join(", ")+")";case"plural":return n.offset[n.pf_count||0]=r.val.offset||0,"plural("+(u=u.concat([n.offset[n.pf_count]||0,t(this.lc[0],"pluralFuncs"),this._precompile(r.val,n)])).join(", ")+")";default:return this.withIntlSupport&&!(r.key in this.runtime.fmt)&&r.key in e.formatters&&(i=e.formatters[r.key],this.runtime.fmt[r.key]="function"==typeof i(this)?i(this):i),u.push(JSON.stringify(this.lc)),r.val&&r.val.length&&u.push(JSON.stringify(1==r.val.length?r.val[0]:r.val)),"fmt."+r.key+"("+u.join(", ")+")"}case"pluralFormatPattern":case"selectFormatPattern":n.pf_count=n.pf_count||0,"selectFormatPattern"==r.type&&(n.offset[n.pf_count]=0);var s=!0;for(o=0;o<r.pluralForms.length;++o){var l=r.pluralForms[o].key;"other"===l&&(s=!1);var c=JSON.parse(JSON.stringify(n));c.pf_count++,a.push(t(l)+": function() { return "+this._precompile(r.pluralForms[o].val,c)+";}")}if(s)throw new Error("No 'other' form found in "+r.type+" "+n.pf_count);return"{ "+a.join(", ")+" }";case"string":return JSON.stringify(r.val||"");case"octothorpe":return n.pf_count?(u=[t(n.keys[n.pf_count-1],"d")],n.offset[n.pf_count-1]&&u.push(n.offset[n.pf_count-1]),"number("+u.join(", ")+")"):'"#"';default:throw new Error("Bad AST type: "+r.type)}},e.prototype.compile=function(r,n){var o={},i=this.lc,a=function(t,r){try{var n=e._parse(r);return t._precompile(n)}catch(t){throw new Error((n?"Precompiler":"Parser")+" error: "+t.toString())}},u=function(e,r){if(r||(r=0),"object"!=typeof e)return e;for(var n=[],o="",i=0;i<r;++i)o+="  ";for(var a in e)n.push("\n"+o+"  "+t(a)+": "+u(e[a],r+1));return"{"+n.join(",")+"\n"+o+"}"};if("string"==typeof r)return new Function("number, plural, select, pluralFuncs, fmt","return "+a(this,r))(this.runtime.number,this.runtime.plural,this.runtime.select,this.runtime.pluralFuncs,this.runtime.fmt);n=n||{};for(var s in r)if(n.locale&&(this.lc=n.locale[s]&&[].concat(n.locale[s])||i),"string"==typeof r[s])try{o[s]=a(this,r[s])}catch(t){throw t.message=t.message.replace(":"," with `"+s+"`:"),t}else{o[s]={};for(var l in r[s])try{o[s][l]=a(this,r[s][l])}catch(t){throw t.message=t.message.replace(":"," with `"+l+"` in `"+s+"`:"),t}}this.lc=i;var c=this.runtime.toString()+"\n";switch(n.global||""){case"exports":var p=[];for(var f in o)p.push(t(f,"exports")+" = "+u(o[f]));return new Function(c+p.join(";\n"));case"module.exports":return new Function(c+"module.exports = "+u(o));case"":return new Function(c+"return "+u(o));default:return new Function("G",c+t(n.global,"G")+" = "+u(o))}},e}();var f=function(){return o("E_MISSING_PLURAL_MODULE","Plural module not loaded.")},h=function(t){s("E_MISSING_MESSAGE_BUNDLE","Missing message bundle for locale `{locale}`.",t.attributes.bundle&&void 0!==t.get("globalize-messages/{bundle}"),{locale:t.locale})},m=function(t,e){t=t.join("/"),s("E_MISSING_MESSAGE","Missing required message content `{path}`.",void 0!==e,{path:t})},d=function(t,e){t=t.join("/"),s("E_INVALID_MESSAGE","Invalid message content `{path}`. {expected} expected.","string"==typeof e,{expected:"a string",path:t})},v=function(t,e){c(t,e,void 0===t||i(t)||Array.isArray(t),"Array or Plain Object")},y=function(t){return function(e){return"number"!=typeof e&&"string"!=typeof e||(e=[].slice.call(arguments,0)),v(e,"variables"),t(e)}},g=function(t,e){var r=t.locale,n=e.toString;return e.toString=function(){var t,o,i,a={};return i=n.call(e),/number\(/.test(i)&&(a.number="messageFormat.number"),/plural\(/.test(i)&&(a.plural="messageFormat.plural"),/select\(/.test(i)&&(a.select="messageFormat.select"),i.replace(/pluralFuncs(\[([^\]]+)\]|\.([a-zA-Z]+))/,function(t){return a.pluralFuncs='{"'+r+'": Globalize("'+r+'").pluralGenerator()}',t}),t=Object.keys(a).join(", "),o=Object.keys(a).map(function(t){return a[t]}).join(", "),"(function( "+t+" ) {\n  return "+i+"\n})("+o+")"},e},A=[].slice;return e.loadMessages=function(e){var r,n={"globalize-messages":e,main:{}};l(e,"json"),p(e,"json");for(r in e)e.hasOwnProperty(r)&&(n.main[r]={});t.load(n)},e.messageFormatter=e.prototype.messageFormatter=function(t){var e,o,i,s,p,v=A.call(arguments,0);return l(t,"path"),c(t,"path","string"==typeof t||Array.isArray(t),"a String nor an Array"),t=n(t),e=this.cldr,u(e),h(e),i=e.get(["globalize-messages/{bundle}"].concat(t)),m(t,i),Array.isArray(i)&&(i=i.join(" ")),d(t,i),s=void 0!==this.plural?this.pluralGenerator():f,o=new r(e.locale,s).compile(i),p=y(o),a(v,e,p,[g(e,o),s]),p},e.formatMessage=e.prototype.formatMessage=function(t){return this.messageFormatter(t).apply({},A.call(arguments,1))},e});