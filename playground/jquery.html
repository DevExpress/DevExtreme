<!DOCTYPE html>
<html>
<head>
    <title>DevExtreme jQuery Example</title>
    <meta charset="UTF-8">

    <link rel="stylesheet" type="text/css" href="../artifacts/css/dx.common.css"/>

    <link rel="stylesheet" type="text/css" href="../artifacts/css/dx.light.css"/>
    <link rel="stylesheet" type="text/css" href="../node_modules/devexpress-diagram/dist/dx-diagram.css"/>

    <script type="text/javascript" src="../artifacts/js/jquery.js"></script>

    <script type="text/javascript" src="../artifacts/js/cldr.js"></script>
    <script type="text/javascript" src="../artifacts/js/cldr/event.js"></script>
    <script type="text/javascript" src="../artifacts/js/cldr/supplemental.js"></script>
    <script type="text/javascript" src="../artifacts/js/cldr/unresolved.js"></script>
    <script type="text/javascript" src="../artifacts/js/globalize.js"></script>
    <script type="text/javascript" src="../artifacts/js/globalize/currency.js"></script>
    <script type="text/javascript" src="../artifacts/js/globalize/date.js"></script>
    <script type="text/javascript" src="../artifacts/js/globalize/message.js"></script>
    <script type="text/javascript" src="../artifacts/js/globalize/number.js"></script>

    <script type="text/javascript" src="../artifacts/js/dx.all.debug.js"></script>
    <script type="text/javascript" src="../node_modules/devexpress-diagram/dist/dx-diagram.js"></script>

    <script type="text/javascript" src="../artifacts/js/localization/dx.messages.ru.js"></script>

    <script src="https://unpkg.com/devextreme-cldr-data/supplemental.js"></script>
    <script src="https://unpkg.com/devextreme-cldr-data/ru.js"></script>

    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
        }
        #diagram {
            width: 100%;
            height: 100%;
            /* width: 1400px;
            height: 600px; */
        }
    </style>
    <script>
        var employees = [{
            "ID": 1,
            "Full_Name": "John Heart",
            "Prefix": "Mr.",
            "Title": "CEO",
            "City": "Los Angeles",
            "State": "California",
            "Email": "jheart@dx-email.com",
            "Skype": "jheart_DX_skype",
            "Mobile_Phone": "(213) 555-9392",
            "Birth_Date": "1964-03-16",
            "Hire_Date": "1995-01-15"
        }, {
            "ID": 2,
            "Head_ID": 1,
            "Full_Name": "Samantha Bright",
            "Prefix": "Dr.",
            "Title": "COO",
            "City": "Los Angeles",
            "State": "California",
            "Email": "samanthab@dx-email.com",
            "Skype": "samanthab_DX_skype",
            "Mobile_Phone": "(213) 555-2858",
            "Birth_Date": "1966-05-02",
            "Hire_Date": "2004-05-24"
        }, {
            "ID": 3,
            "Head_ID": 1,
            "Full_Name": "Arthur Miller",
            "Prefix": "Mr.",
            "Title": "CTO",
            "City": "Denver",
            "State": "Colorado",
            "Email": "arthurm@dx-email.com",
            "Skype": "arthurm_DX_skype",
            "Mobile_Phone": "(310) 555-8583",
            "Birth_Date": "1972-07-11",
            "Hire_Date": "2007-12-18"
        }, {
            "ID": 4,
            "Head_ID": 1,
            "Full_Name": "Robert Reagan",
            "Prefix": "Mr.",
            "Title": "CMO",
            "City": "Bentonville",
            "State": "Arkansas",
            "Email": "robertr@dx-email.com",
            "Skype": "robertr_DX_skype",
            "Mobile_Phone": "(818) 555-2387",
            "Birth_Date": "1974-09-07",
            "Hire_Date": "2002-11-08"
        }, {
            "ID": 5,
            "Head_ID": 1,
            "Full_Name": "Greta Sims",
            "Prefix": "Ms.",
            "Title": "HR Manager",
            "City": "Atlanta",
            "State": "Georgia",
            "Email": "gretas@dx-email.com",
            "Skype": "gretas_DX_skype",
            "Mobile_Phone": "(818) 555-6546",
            "Birth_Date": "1977-11-22",
            "Hire_Date": "1998-04-23"
        }];
    </script>
</head>
<body>
    <div id="diagram"></div>
    <script>
        DevExpress.localization.locale("ru");
        Globalize.locale("ru");

        $(function() {
            var diagram = $("#diagram").dxDiagram({
                // readOnly: true,
                // diabled: true,
                // viewUnits: "cm",
                // gridSize: 0.3175,
                // showGrid: false,
                // fullscreen: true,
                // pageSize: { width: 2, height: 2 },
                // pageOrientation: "landscape",
                // pageColor: "gray"

                nodes: {
                    dataSource: new DevExpress.data.ArrayStore({
                        key: "ID",
                        data: employees,
                        paginate: false
                    }),
                    keyExpr: "ID",
                    typeExpr: function(item) {
                        return "emp" + item.ID;
                    },
                    parentKeyExpr: "Head_ID"
                },
                customShapes: employees.map(
                    function(emp) {
                        return {
                            category: "employees",
                            type: "emp" + emp.ID,
                            baseType: "rectangle",
                            defaultText: emp.Full_Name,
                            allowEditText: false
                        }
                    }
                ),
                contextMenu: {
                    //enabled: false,
                    // commands: ["copy","cut","paste"]
                },
                propertiesPanel: {
                    //visible: false,
                    collapsible: false,
                    // groups: [
                    //     { commands: ["units"] },
                    //     { commands: ["pageSize","pageLandscape","pageColor"] }
                    // ]
                },
                toolbar: {
                    //visible: false,
                    //commands: ["export"]
                },
                toolbox: {
                    //visible: false,
                    groups: [ "general", { category: "employees", title: "Employees", style: "texts" } ]
                }
            }).dxDiagram("instance");

            // window.setTimeout(function() {
            //     diagram.option("nodes", {
            //         dataSource: new DevExpress.data.ArrayStore({
            //             key: "ID",
            //             data: employees,
            //             paginate: false
            //         }),
            //         keyExpr: "ID",
            //         typeExpr: function(item) {
            //             return "emp" + item.ID;
            //         },
            //         parentKeyExpr: "Head_ID"
            //     })
            // }, 2000);
        });
    </script>
</body>
</html>
