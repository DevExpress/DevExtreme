<!DOCTYPE html>
<html lang="en">
<head>
    <title>DevExtreme jQuery Example</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script type="text/javascript">
        const currentThemeId = localStorage.getItem("currentThemeId") || "light";

        const link = document.createElement("link");
        link.href = `../artifacts/css/dx.${currentThemeId}.css`;
        link.type = "text/css";
        link.rel = "stylesheet";

        document.getElementsByTagName("head")[0].appendChild(link);
    </script>

    <script type="text/javascript" src="../artifacts/js/jquery.js"></script>
    <!-- HtmlEditor -->
    <!-- <script type="text/javascript" src="../artifacts/js/dx-quill.min.js"></script> -->

    <!--<script type="text/javascript" src="../artifacts/js/cldr.js"></script>
    <script type="text/javascript" src="../artifacts/js/cldr/event.js"></script>
    <script type="text/javascript" src="../artifacts/js/cldr/supplemental.js"></script>
    <script type="text/javascript" src="../artifacts/js/cldr/unresolved.js"></script>
    <script type="text/javascript" src="../artifacts/js/globalize.js"></script>
    <script type="text/javascript" src="../artifacts/js/globalize/message.js"></script>
    <script type="text/javascript" src="../artifacts/js/globalize/number.js"></script>
    <script type="text/javascript" src="../artifacts/js/globalize/currency.js"></script>
    <script type="text/javascript" src="../artifacts/js/globalize/date.js"></script>-->

    <!--
    <script type="text/javascript" src="../artifacts/js/exceljs.min.js"></script>
    <script type="text/javascript" src="../artifacts/js/FileSaver.min.js"></script>
    <script type="text/javascript" src="../artifacts/js/jszip.min.js"></script>
    <script type="text/javascript" src="../artifacts/js/jspdf.umd.min.js"></script>
    <script type="text/javascript" src="../artifacts/js/jspdf.plugin.autotable.min.js"></script>
    -->

    <script type="text/javascript" src="../artifacts/js/dx.all.debug.js" charset="utf-8"></script>
    <script type="text/javascript" src="./themeSelector.js"></script>
    <script type="text/javascript" src="../../../node_modules/axe-core/axe.min.js"></script>

    <style>
        .dx-chat-message-avatar {
            /* width: 64px;
            height: 64px; */
        }
    </style>
</head>
<body class="dx-surface">
    <div role="main">
        <h1 style="position: fixed; left: 0; top: 0; clip: rect(1px, 1px, 1px, 1px);">Test header</h1>

        <select id="theme-selector" style="display: block;">
        </select>
        <br />
        <div id="button"></div>
        <script>
            $(function() {
                const user1 = {
                    id: 1,
                    name: 'User 1',
                };

                const user2 = {
                    id: 2,
                    name: 'User 2',
                };

                // const author = {
                //     id: 1,
                //     name: 'First User Name',
                // };
                // const timestamp = new Date(1721747399083);
                // const text = '0.392722124265449';

                const getRandomValue = (length = 10) => {
                    const crypto = window.crypto;

                    const mathRandow = Math.random();
                    const array = new Uint32Array(length);
                    const cryptoRandom = crypto.getRandomValues(array).reduce((acc, i) => `${acc}${i}`, mathRandow);
                    const randomUUID = crypto.randomUUID();

                    const randomString = `${randomUUID}:\n\n${cryptoRandom}`;

                    return randomString;
                };

                const randomUint32 = '0.392722124265449';

                $("#button").dxChat({
                    width: 400,
                    height: 600,
                    user: user1,
                    items: [
                        {
                            text: randomUint32,
                            author: user2,
                            timestamp: new Date(),
                        },
                        {
                            text: randomUint32,
                            author: user1,
                            timestamp: new Date(),
                        },
                        {
                            text: getRandomValue(),
                            author: user1,
                            timestamp: new Date(),
                        },
                        {
                            text: getRandomValue(),
                            author: user1,
                            timestamp: new Date(),
                        },
                        {
                            text: getRandomValue(),
                            author: user1,
                            timestamp: new Date(),
                        },
                        {
                            text: getRandomValue(),
                            author: user1,
                            timestamp: new Date(),
                        },
                        {
                            text: getRandomValue(),
                            author: user1,
                            timestamp: new Date(),
                        },
                        {
                            text: getRandomValue(),
                            author: user1,
                            timestamp: new Date(),
                        },
                        {
                            text: getRandomValue(),
                            author: user1,
                            timestamp: new Date(),
                        },
                        {
                            text: getRandomValue(),
                            author: user1,
                            timestamp: new Date(),
                        },
                        {
                            text: getRandomValue(),
                            author: user1,
                            timestamp: new Date(),
                        },
                        {
                            text: getRandomValue(),
                            author: user1,
                            timestamp: new Date(),
                        },
                        {
                            text: getRandomValue(),
                            author: user1,
                            timestamp: new Date(),
                        },
                        {
                            text: getRandomValue(),
                            author: user1,
                            timestamp: new Date(),
                        },
                        {
                            text: getRandomValue(),
                            author: user1,
                            timestamp: new Date(),
                        },
                        {
                            text: getRandomValue(),
                            author: user1,
                            timestamp: new Date(),
                        },
                        {
                            text: getRandomValue(),
                            author: user1,
                            timestamp: new Date(),
                        },
                        {
                            text: getRandomValue(),
                            author: user2,
                            timestamp: new Date(),
                        },
                    ],

    // height: 500,
    // width: 400,
    // items: [
    //   {
    //     timestamp,
    //     text,
    //     author,
    //   },
    //   {
    //     timestamp,
    //     text,
    //     author,
    //   },
    // ],
                });
            });
        </script>
    </div>
</body>
</html>
