<!DOCTYPE html>
<html lang="en">

<head>
    <title>DevExtreme jQuery Example</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script type="text/javascript">
        const currentThemeId = localStorage.getItem("currentThemeId") || "light";

        const link = document.createElement("link");
        link.href = `../artifacts/css/dx.${currentThemeId}.css`;
        link.type = "text/css";
        link.rel = "stylesheet";

        document.getElementsByTagName("head")[0].appendChild(link);
    </script>

    <script type="text/javascript" src="../artifacts/js/jquery.js"></script>
    <!-- HtmlEditor -->
    <!-- <script type="text/javascript" src="../artifacts/js/dx-quill.min.js"></script> -->

    <!--<script type="text/javascript" src="../artifacts/js/cldr.js"></script>
    <script type="text/javascript" src="../artifacts/js/cldr/event.js"></script>
    <script type="text/javascript" src="../artifacts/js/cldr/supplemental.js"></script>
    <script type="text/javascript" src="../artifacts/js/cldr/unresolved.js"></script>
    <script type="text/javascript" src="../artifacts/js/globalize.js"></script>
    <script type="text/javascript" src="../artifacts/js/globalize/message.js"></script>
    <script type="text/javascript" src="../artifacts/js/globalize/number.js"></script>
    <script type="text/javascript" src="../artifacts/js/globalize/currency.js"></script>
    <script type="text/javascript" src="../artifacts/js/globalize/date.js"></script>-->

    <!--
    <script type="text/javascript" src="../artifacts/js/exceljs.min.js"></script>
    <script type="text/javascript" src="../artifacts/js/FileSaver.min.js"></script>
    <script type="text/javascript" src="../artifacts/js/jszip.min.js"></script>
    <script type="text/javascript" src="../artifacts/js/jspdf.umd.min.js"></script>
    <script type="text/javascript" src="../artifacts/js/jspdf.plugin.autotable.min.js"></script>
    -->

    <script type="text/javascript" src="../artifacts/js/dx.all.debug.js" charset="utf-8"></script>
    <script type="text/javascript" src="./themeSelector.js"></script>
    <script type="text/javascript" src="../../../node_modules/axe-core/axe.min.js"></script>
</head>

<body class="dx-surface">
    <div role="main">
        <h1 style="position: fixed; left: 0; top: 0; clip: rect(1px, 1px, 1px, 1px);">Test header</h1>

        <select id="theme-selector" style="display: block;">
        </select>
        <br />

        <!-- <button id="context-menu-target" style="margin-bottom: 150px; height: 50px; width: 50px; background-color: #000;"></button>
        <div id="context-menu"></div>

        <br />

        <button>test</button> -->

        <div id="fileManager"></div>

        <script>
            // $(() => {
            //     const contextMenuItems = [
            //         {
            //             text: 'Share',
            //             items: [
            //                 { text: 'Facebook' },
            //                 { text: 'Twitter' }],
            //         },
            //         { text: 'Download' },
            //         { text: 'Comment' },
            //         { text: 'Favorite' },
            //     ];

            //     const instance = $('#context-menu').dxContextMenu({
            //         dataSource: contextMenuItems,
            //         width: 200,
            //         target: '#context-menu-target',
            //         hideOnOutsideClick: false,
            //     }).dxContextMenu('instance');

            //     // instance.show();
            // });


            const createTestFileSystem = () => {
                return [
                    {
                        name: 'Folder 1',
                        isDirectory: true,
                        hasSubDirectories: true,
                        items: [
                            {
                                name: 'Folder 1.1',
                                isDirectory: true,
                                hasSubDirectories: true,
                                items: [
                                    {
                                        name: 'Folder 1.1.1',
                                        isDirectory: true,
                                        hasSubDirectories: true,
                                        items: [
                                            {
                                                name: 'Folder 1.1.1.1',
                                                isDirectory: true,
                                                hasSubDirectories: true,
                                                items: [
                                                    {
                                                        name: 'Folder 1.1.1.1.1',
                                                        isDirectory: true,
                                                        hasSubDirectories: false,
                                                        items: [
                                                            {
                                                                name: 'Special deep file.txt',
                                                                isDirectory: false,
                                                                size: 600
                                                            }
                                                        ]
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        name: 'File 1-1.txt',
                                        isDirectory: false
                                    },
                                    {
                                        name: 'File 1-2.txt',
                                        isDirectory: false
                                    },
                                    {
                                        name: 'File 1-3.png',
                                        isDirectory: false
                                    },
                                    {
                                        name: 'File 1-4.jpg',
                                        isDirectory: false
                                    }]
                            },
                            {
                                name: 'Folder 1.2',
                                isDirectory: true,
                                hasSubDirectories: false
                            },
                            {
                                name: 'File 1-1.txt',
                                isDirectory: false
                            },
                            {
                                name: 'File 1-2.jpg',
                                isDirectory: false
                            }]
                    },
                    {
                        name: 'Folder 2',
                        isDirectory: true,
                        hasSubDirectories: false,
                        items: [
                            {
                                name: 'File 2-1.jpg',
                                isDirectory: false
                            }]
                    },
                    {
                        name: 'Folder 3',
                        isDirectory: true,
                        hasSubDirectories: false
                    },
                    {
                        name: 'File 1.txt',
                        isDirectory: false
                    },
                    {
                        name: 'File 2.jpg',
                        isDirectory: false
                    },
                    {
                        name: 'File 3.xml',
                        isDirectory: false
                    }
                ];
            };
            const fileSystem = createTestFileSystem();

            $(() => {
                const $element = $('#fileManager').dxFileManager({
                    fileSystemProvider: fileSystem,
                    itemView: {
                        showFolders: false
                    },
                    permissions: {
                        create: true,
                        copy: true,
                        move: true,
                        delete: true,
                        rename: true,
                        upload: true
                    },
                    contextMenu: {
                        items: [
                        {
                            text: 'Item 1',
                        },
                        { text: 'Item 2' },
                        { text: 'Item 3' },
                    ],
                    },
                });

                const fileManager = $element.dxFileManager('instance');

                fileManager.option('contextMenu.items[1].disabled', true);
            });
        </script>
    </div>
</body>
</html>
