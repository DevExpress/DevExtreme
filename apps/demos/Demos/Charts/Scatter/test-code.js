testUtils.importAnd(() => 'devextreme/viz/chart', () => DevExpress.viz.dxChart, (dxChart) => {
  const dataSource = [{
    x1: 15, y1: -3.9836892323568467, x2: 8, y2: 74.27062692530453,
  }, {
    x1: 4, y1: -5.75964200142771, x2: 11, y2: 78.84459782764316,
  }, {
    x1: 20, y1: -3.913203095830977, x2: 17, y2: 106.9102852612734,
  }, {
    x1: 20, y1: -4.428249597921968, x2: 8, y2: 35.53076795376837,
  }, {
    x1: 19, y1: -3.6234244069084522, x2: 5, y2: 47.95513056851924,
  }, {
    x1: 5, y1: -5.774789092130959, x2: 19, y2: 71.94265955500305,
  }, {
    x1: 8, y1: -6.1123018996790055, x2: 16, y2: 61.272551770508294,
  }, {
    x1: 2, y1: -6.443643122166395, x2: 11, y2: 35.988290331885224,
  }, {
    x1: 17, y1: -4.908462500572204, x2: 4, y2: 0.21985755525529171,
  }, {
    x1: 7, y1: -5.194361717812717, x2: 10, y2: 60.5655957300216,
  }, {
    x1: 3, y1: -5.322444481216372, x2: 14, y2: 93.88267207071185,
  }, {
    x1: 13, y1: -5.227893920242787, x2: 19, y2: 55.284706729277964,
  }, {
    x1: 6, y1: -5.1197846539318554, x2: 15, y2: 72.91912582926453,
  }, {
    x1: 13, y1: -5.649237546138465, x2: 12, y2: 29.192680495232352,
  }, {
    x1: 8, y1: -6.005367354676128, x2: 17, y2: 65.89137299060822,
  }, {
    x1: 6, y1: -5.085650337301194, x2: 1, y2: 17.937393510341643,
  }, {
    x1: 9, y1: -5.110690901242196, x2: 15, y2: 92.8023401927203,
  }, {
    x1: 17, y1: -4.349843577109278, x2: 11, y2: 59.03723423853517,
  }, {
    x1: 5, y1: -6.326696758717299, x2: 20, y2: 92.10514428727329,
  }, {
    x1: 3, y1: -6.1665982834994795, x2: 17, y2: 66.79353099651635,
  }, {
    x1: 19, y1: -4.857043329067528, x2: 11, y2: 50.79992536306382,
  }, {
    x1: 16, y1: -3.846464086696505, x2: 4, y2: 52.57669225521386,
  }, {
    x1: 19, y1: -4.988388778455556, x2: 5, y2: 14.296265822649001,
  }, {
    x1: 12, y1: -5.572360506467521, x2: 8, y2: 27.747567388787864,
  }, {
    x1: 12, y1: -5.721545689553023, x2: 15, y2: 39.453577507287264,
  }, {
    x1: 9, y1: -4.7980750650167465, x2: 6, y2: 39.12013387233019,
  }, {
    x1: 8, y1: -6.03819348346442, x2: 1, y2: 7.41634560599923,
  }, {
    x1: 7, y1: -6.04004096519202, x2: 9, y2: 39.41196269467473,
  }, {
    x1: 4, y1: -5.719428933784365, x2: 10, y2: 83.54356419295073,
  }, {
    x1: 4, y1: -5.7535413021221755, x2: 17, y2: 79.78825451992454,
  }];

  // MVC data
  dataSource.forEach((item) => {
    item.X1 = item.x1;
    item.Y1 = item.y1;
    item.X2 = item.x2;
    item.Y2 = item.y2;
  });
  return testUtils
    .postponeUntilFound('#chart', 100, 10000)
    .then(() => {
      const instance = dxChart.getInstance(document.querySelector('#chart'));
      instance.option('dataSource', dataSource);

      testUtils.mockOptionMethod(instance);
    })
    .then(() => testUtils.postpone(2000));
});
